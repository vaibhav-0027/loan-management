(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{206:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n.n(a),s=n(27),r=n.n(s),i=(n(89),n(84)),o=n(28),l=n(12),j=n(38),u=n(35),d=n(79),h=(Object(d.a)({apiKey:"AIzaSyDF58fXXrQDdhbTeu2zjDQJxl48ZIZEoNE",authDomain:"loan-management-95418.firebaseapp.com",projectId:"loan-management-95418",storageBucket:"loan-management-95418.appspot.com",messagingSenderId:"266181542728",appId:"1:266181542728:web:7f8fe1dcfc6d99abdfa97d",measurementId:"G-P4GTNKWC3T"}),new u.a);h.addScope("https://www.googleapis.com/auth/contacts.readonly");var b=Object(u.b)(),m=function(e){localStorage.setItem("userInfo",e)},O=function(){return localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},f=function(e){localStorage.setItem("userAccessToken",e)},p=function(){if(localStorage.getItem("userAccessToken"))return localStorage.getItem("userAccessToken")},x=n(39),g=n(5),v=function(){var e=Object(l.f)();Object(a.useEffect)((function(){try{Object(x.a)(p()).email===O().email&&e.push("/home")}catch(t){console.log(t)}}),[e]);return Object(g.jsx)("div",{style:{height:"100vh",width:"100vw"},children:Object(g.jsx)("div",{className:"h-100 w-100 d-flex justify-content-center align-items-center",style:{cursor:"pointer"},onClick:function(){Object(j.c)(b,h).then((function(t){var n=t.user,a=n.stsTokenManager.accessToken;m(JSON.stringify(n)),f(a),e.push("/home")})).catch((function(e){var t=e.code,n=e.message,a=e.email,c=u.a.credentialFromError(e);console.log(t,n,a,c),alert("Something went wrong! Please try again! ".concat(n))}))},children:"Continue with Google"})})},y=function(){return Object(g.jsx)(l.c,{children:Object(g.jsx)(l.a,{exact:!0,path:"/login",children:Object(g.jsx)(v,{})})})},w=n(2),N=n(23),A=n(24),D=n(207),C=n(208),E=n(209),k=n(210),R=n(211),S=n(212),I=n(50),L=n.n(I),q=n(0),T=n.n(q),M=n(3),P=n(81),B=n.n(P).a.create(Object(N.a)({baseURL:"".concat("https://loan-management-vaibhav.herokuapp.com","/api")},{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}));B.interceptors.request.use((function(e){var t=p(),n=O().email;return t&&(e.headers=Object(N.a)(Object(N.a)({},e.headers),{},{jwt_token:t,user_id:n})),e}),(function(e){return Promise.reject(e)}));var F=B,_=n(25),G=n(8),U=n(9),J=n(40),V=1,Y=3,z=function(){function e(t,n){Object(G.a)(this,e),this.constants=function(e,t){var n=Object(J.concat)(["request","response","error"],t);return Object(J.reduce)(n,(function(t,n){return n&&(t[n]="".concat(e.toUpperCase(),"_").concat(n.toUpperCase())),Object.assign({},t)}),{})}(t,n),this.progressBar=!1}return Object(U.a)(e,[{key:"showProgressBar",value:function(){this.progressBar=!0}},{key:"registerRequest",value:function(e){var t=this;this.request=function(){for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return function(n){return n({type:t.constants.request}),t.progressBar&&n({type:"PROGRESS_BAR_ACTIVE"}),t.dispatch=n,e.apply(t,a).then((function(e){return n({type:t.constants.response,data:e}),t.progressBar&&n({type:"PROGRESS_BAR_COMPLETE"}),e})).catch((function(e){throw n({type:t.constants.error,error:Object(J.pick)(e,["data","status","statusText"])||e}),t.progressBar&&n({type:"PROGRESS_BAR_ERROR"}),e}))}}}}]),e}(),K=new z("FETCH_LOANS");K.registerRequest(Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F.get("/fetch-loan").then((function(e){return e})));case 1:case"end":return e.stop()}}),e)}))));var Q=K.constants,W=new z("CREATE_LOAN_APPLICATION");W.registerRequest(function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F.post("/create-loan",t).then((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var X,Z,H,$=W.constants,ee=Object(o.b)(null,(function(e){return{CreateLoanApplication:function(t){return e(W.request(t))}}}))((function(e){var t=O(),n=Object(l.f)(),c=Object(a.useState)({name:t.displayName,address:"",contact:"",email:t.email,amount:"",startDate:null,endDate:null,emi:0}),s=Object(A.a)(c,2),r=s[0],i=s[1],o=Object(a.useState)({name:!1,address:!1,contact:!1,email:!1,amoutn:!1,startDate:!1,endDate:!1}),j=Object(A.a)(o,2),u=j[0],d=j[1];Object(a.useEffect)((function(){if(!r.startDate||!r.endDate||r.amount<1e5)return i(Object(N.a)(Object(N.a)({},r),{},{emi:0}));i(Object(N.a)(Object(N.a)({},r),{},{emi:1e3}))}),[r.startDate,r.endDate,r.amount]);var h=function(e){d(Object(N.a)(Object(N.a)({},u),{},Object(w.a)({},e.target.name,!0)))},b=function(e){i(Object(N.a)(Object(N.a)({},r),{},Object(w.a)({},e.target.name,e.target.value)))},m=new Date,f=m.getDate(),p=m.getMonth()+1,x=m.getFullYear();return f<10&&(f="0"+f),p<10&&(p="0"+p),m=x+"-"+p+"-"+f,Object(g.jsxs)("div",{className:"d-flex flex-column h-100 w-100 align-items-center justify-content-center",children:[Object(g.jsx)("div",{className:"d-flex justify-content-start w-100",children:Object(g.jsx)(D.a,{onClick:function(){return n.push("/home")},style:{width:"5%",marginLeft:"10px"},className:"mt-3",children:"Back"})}),Object(g.jsx)("div",{className:"d-flex align-items-center justify-content-center w-100",children:Object(g.jsx)("h1",{children:Object(g.jsx)("strong",{children:"Loan Application"})})}),Object(g.jsx)("div",{children:Object(g.jsxs)("h3",{children:["EMI: ",r.emi?"Rs ".concat(r.emi):"N/A"]})}),Object(g.jsxs)(C.a,{className:"w-100 mt-4",onSubmit:function(t){if(t.preventDefault(),0===r.name.trim().length||0===r.address.trim().length||10!==r.contact.length||!L.a.isEmail(r.email)||r.amount<1e5||!r.startDate||!r.endDate||!r.emi)return alert("Fill valid values");e.CreateLoanApplication(r),alert("Loan applied successfully"),n.push("/home")},style:{marginLeft:"50px"},children:[Object(g.jsxs)(E.a,{children:[Object(g.jsx)(k.a,{children:"Applicant Name"}),Object(g.jsx)(R.a,{name:"name",className:"w-25",value:r.name,onChange:b,onClick:h,invalid:u.name&&0===r.name.trim().length}),Object(g.jsx)(S.a,{invalid:!0,children:"Name cannot be empty"})]}),Object(g.jsxs)(E.a,{className:"mt-3",children:[Object(g.jsx)(k.a,{children:"Address"}),Object(g.jsx)(R.a,{name:"address",className:"w-50",value:r.address,onChange:b,onClick:h,invalid:u.address&&0===r.address.trim().length}),Object(g.jsx)(S.a,{invalid:!0,children:"Address cannot be empty"})]}),Object(g.jsxs)(E.a,{className:"mt-3",children:[Object(g.jsx)(k.a,{children:"Mobile"}),Object(g.jsx)(R.a,{name:"contact",className:"w-25",value:r.contact,type:"number",onChange:b,onClick:h,invalid:u.contact&&10!==r.contact.length}),Object(g.jsx)(S.a,{invalid:!0,children:"Invalid mobile number"})]}),Object(g.jsxs)(E.a,{className:"mt-3",children:[Object(g.jsx)(k.a,{children:"Email"}),Object(g.jsx)(R.a,{name:"email",className:"w-50",value:r.email,onChange:b,onClick:h,invalid:u.email&&!L.a.isEmail(r.email)}),Object(g.jsx)(S.a,{invalid:!0,children:"Invalid Email Address"})]}),Object(g.jsxs)(E.a,{className:"mt-3",children:[Object(g.jsx)(k.a,{children:"Amount"}),Object(g.jsx)(R.a,{name:"amount",className:"w-25",value:r.amount,type:"number",onChange:b,onClick:h,invalid:u.amount&&r.amount<1e5}),Object(g.jsx)(S.a,{invalid:!0,children:"Minimum amount is 100000"})]}),Object(g.jsxs)(E.a,{className:"mt-3",children:[Object(g.jsx)(k.a,{children:"Start Date"}),Object(g.jsx)(R.a,{name:"startDate",className:"w-25",value:r.startDate,type:"date",min:m,onChange:b})]}),r.startDate?Object(g.jsxs)(E.a,{className:"mt-3",children:[Object(g.jsx)(k.a,{children:"End Date"}),Object(g.jsx)(R.a,{name:"endDate",className:"w-25",value:r.endDate,type:"date",onChange:b,min:r.startDate})]}):null,Object(g.jsx)(D.a,{className:"mt-5",type:"submit",children:"Apply"})]})]})})),te=n(213),ne=Object(o.b)(null,(function(e){return{FetchLoans:function(){return e(K.request())}}}))((function(e){var t=Object(l.f)();Object(a.useEffect)((function(){e.FetchLoans()}),[]);return Object(g.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(g.jsx)("div",{className:"w-100 d-flex flex-row align-items-right justify-content-end mr-5",children:Object(g.jsx)(D.a,{onClick:function(){return m(""),f(""),t.push("/login")},className:"mr-5 mt-3",style:{marginRight:"12px"},children:"Logout"})}),Object(g.jsxs)("div",{className:"h-75 w-100 d-flex flex-row justify-content-around align-items-center",children:[Object(g.jsx)(te.a,{className:"w-25 d-flex h-50 justify-content-center align-items-center",style:{cursor:"pointer",borderRadius:"8px",background:"#d1e0d5"},onClick:function(){return t.push("/apply")},children:"APPLY FOR LOAN"}),Object(g.jsx)(te.a,{className:"w-25 d-flex h-50 justify-content-center align-items-center",style:{cursor:"pointer",borderRadius:"8px",background:"#d1e0d5"},onClick:function(){return t.push("/view")},children:"VIEW PREVIOUS LOANS"})]})]})})),ae=n(215),ce=n(82),se={data:[]},re=(X=se,Z=function(e,t){var n,a=t.data;switch(a=null===(n=a)||void 0===n?void 0:n.data,t.type){case Q.response:return Object.assign({},e,{data:a});case $.response:var c=e.data.concat(a);return Object.assign({},e,{data:c});default:return e}},H={request:[Q,$]},function(e,t){if(e||(e=X),H){if(H.request&&H.request.length){var n,a=Object(_.a)(H.request);try{for(a.s();!(n=a.n()).done;)if(n.value.request===t.type)return Object.assign({},e,{loadingStatus:V,loading:!0,error:null})}catch(r){a.e(r)}finally{a.f()}}if(H.error&&H.error.length){var c,s=Object(_.a)(H.error);try{for(s.s();!(c=s.n()).done;)if(c.value.error===t.type)return Object.assign({},e,{loadingStatus:Y,loading:!1,error:t.error})}catch(r){s.e(r)}finally{s.f()}}}return Z(e,t)}),ie=Object(ce.a)((function(e){return e||se}),(function(e){return e.loans.data||[]})),oe=n(214),le=function(e){var t=e.info,n=new Date(t.startDate);return Object(g.jsx)(oe.a,{lg:4,className:"my-2",children:Object(g.jsxs)(te.a,{style:{cursor:"pointer"},onClick:function(){return e.setModalInfo(t),e.toggleModal()},children:[Object(g.jsx)(ae.a,{children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:"Applicant: "}),t.name]})}),Object(g.jsx)(ae.a,{children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:"Amount: "}),"Rs ",t.amount]})}),Object(g.jsx)(ae.a,{children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:"EMI: "}),"Rs ",null===t||void 0===t?void 0:t.emi]})}),Object(g.jsx)(ae.a,{children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:"Date Applied: "}),n.getDate(),"/",n.getMonth()+1,"/",n.getFullYear()]})})]})})},je=n(216),ue=function(e){var t=e.isOpen,n=e.toggle,a=e.info,c=new Date(a.startDate);return Object(g.jsx)("div",{className:"",children:Object(g.jsxs)(je.a,{isOpen:t,toggle:n,className:"p-5",children:[Object(g.jsx)(ae.a,{children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:"Applicant: "}),a.name]})}),Object(g.jsx)(ae.a,{children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:"Amount: "}),"Rs ",a.amount]})}),Object(g.jsx)(ae.a,{children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:"EMI: "}),"Rs ",null===a||void 0===a?void 0:a.emi]})}),Object(g.jsx)(ae.a,{children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:"Date Applied: "}),c.getDate(),"/",c.getMonth()+1,"/",c.getFullYear()]})}),Object(g.jsx)(ae.a,{children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:"Address: "}),a.address]})}),Object(g.jsx)(ae.a,{children:Object(g.jsxs)("span",{children:[Object(g.jsx)("strong",{children:"Email: "}),a.email]})})]})})},de=Object(o.b)((function(e){return{loans:ie(e)}}),(function(e){return{fetchLoans:function(){return e(K.request())}}}))((function(e){var t=Object(l.f)(),n=Object(a.useState)(!1),c=Object(A.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)({}),o=Object(A.a)(i,2),j=o[0],u=o[1],d=function(){r(!s)};Object(a.useEffect)((function(){if(0===e.loans.length)return e.fetchLoans()}),[]);return Object(g.jsxs)("div",{className:"d-flex flex-column h-100 w-100",children:[Object(g.jsx)("div",{className:"d-flex justify-content-start w-100",children:Object(g.jsx)(D.a,{onClick:function(){return t.push("/home")},style:{width:"5%",marginLeft:"10px"},className:"mt-3",children:"Back"})}),0===e.loans.length?Object(g.jsx)("div",{className:"d-flex flex-row align-items-center justify-content-center",children:"NO PREVIOUS RECORD FOUND"}):null,Object(g.jsx)(ue,{isOpen:s,toggle:d,info:j}),Object(g.jsx)(ae.a,{className:"mt-4 mx-3",children:e.loans.map((function(e,t){return Object(g.jsx)(le,{info:e,toggleModal:d,setModalInfo:u},t)}))})]})})),he=function(e){var t=Object(l.f)();return Object(a.useEffect)((function(){try{var e=Object(x.a)(p());console.log(e)}catch(n){t.push("/login")}}),[t]),Object(g.jsx)(l.a,{exact:e.exact,path:e.path,component:e.component})},be=function(e){return Object(g.jsxs)(l.c,{children:[Object(g.jsx)(he,{exact:!0,path:"/",component:ne}),Object(g.jsx)(he,{exact:!0,path:"/home",component:ne}),Object(g.jsx)(he,{exact:!0,path:"/apply",component:ee}),Object(g.jsx)(he,{exact:!0,path:"/view",component:de})]})},me=function(){return Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsx)(y,{}),Object(g.jsx)(be,{})]})},Oe=n(42),fe=n(83),pe={loans:re},xe=Object(Oe.b)(pe),ge=Object(Oe.c)((function(e,t){return xe(e,t)}),Object(Oe.a)(fe.a)),ve=function(){return Object(g.jsx)(o.a,{store:ge,children:Object(g.jsx)(i.a,{children:Object(g.jsx)(me,{})})})};n(205);r.a.render(Object(g.jsx)(ve,{}),document.getElementById("root"))},89:function(e,t,n){}},[[206,1,2]]]);
//# sourceMappingURL=main.05039983.chunk.js.map